import{d as v,u as k,r as _,a as w,b as p,o as l,c as u,e as c,f as d,w as i,g as e,h as m,i as x,F as y,j as b,k as z}from"./index.78778fd6.js";import{N,E as B,$ as C}from"./vue-leaflet.es.7116bb12.js";const E={class:"buttons"},V={class:"row"},D={class:"flex xs12"},F=c("h1",{class:"va-h1"},"Switches map",-1),R={style:{height:"500px",width:"100%"}},O=v({__name:"Dashboard",setup(S){k();let a=_([]),s=_(11),g="https://cpe-panel.surfi.ch:3000/api/networks";return w.get(g).then(function(n){for(let r of n.data.networks)for(let o of r.switches)a.value.push({lat:o.data.lat,lng:o.data.lng,name:o.name})}).catch(n=>{console.error(n)}),(n,r)=>{const o=p("va-card-content"),h=p("va-card");return l(),u("div",E,[c("div",V,[c("div",D,[d(h,{class:"larger-padding"},{default:i(()=>[e(a).length?(l(),m(o,{key:0},{default:i(()=>[F,c("div",R,[d(e(N),{ref:"map",zoom:e(s),"onUpdate:zoom":r[0]||(r[0]=t=>x(s)?s.value=t:s=t),center:[e(a)[0].lat,e(a)[0].lng]},{default:i(()=>[d(e(B),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),(l(!0),u(y,null,b(e(a),(t,f)=>(l(),m(e(C),{key:f,"lat-lng":[t.lat,t.lng],title:t.name},null,8,["lat-lng","title"]))),128))]),_:1},8,["zoom","center"])])]),_:1})):z("",!0)]),_:1})])])])}}});export{O as default};
