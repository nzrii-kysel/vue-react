import{d as z,u as q,E as S,r as f,a as u,b as n,o as i,c as v,e as r,f as l,w as m,g as a,h,B as E,I as F,F as R,j as T,k as j,C as D}from"./index.78778fd6.js";import{u as I}from"./useToast.02967165.js";const L={class:"buttons"},M={class:"row"},O={class:"flex xs12"},P={class:"va-h1"},A={class:"mb-3"},G=r("div",null,"User role:",-1),H=D("save"),W=z({__name:"edit",setup(J){function V(){u.get("https://cpe-panel.surfi.ch:3000/api/../sanctum/csrf-cookie").then(s=>{u.put("https://cpe-panel.surfi.ch:3000/api/admin/users/"+c.params.id,e).then(o=>{p.push("/admin/users").then(d=>{g.init({color:"success",message:"User updated."})})})})}let b=["admin","org","end-user"];const g=I(),p=q(),c=S();let e=f(),_=f();return u.get("https://cpe-panel.surfi.ch:3000/api/admin/users/"+c.params.id).then(function(s){e.value=s.data.model}).catch(s=>{p.push({name:"login"})}),u.get("https://cpe-panel.surfi.ch:3000/api/organizations").then(function(s){_.value=s.data}).catch(s=>{p.push({name:"login"})}),(s,o)=>{const d=n("va-input"),w=n("va-select"),y=n("va-radio"),k=n("va-button"),x=n("va-form"),U=n("va-card-content"),B=n("va-card");return i(),v("div",L,[r("div",M,[r("div",O,[l(B,{class:"larger-padding"},{default:m(()=>[a(e)?(i(),h(U,{key:0},{default:m(()=>[r("h1",P,"User: "+E(a(e).name),1),l(x,{style:{width:"100%"},tag:"form",autocomplete:"off",onSubmit:F(V,["prevent"])},{default:m(()=>[l(d,{modelValue:a(e).name,"onUpdate:modelValue":o[0]||(o[0]=t=>a(e).name=t),required:"",label:"Name",class:"mb-3"},null,8,["modelValue"]),l(d,{modelValue:a(e).email,"onUpdate:modelValue":o[1]||(o[1]=t=>a(e).email=t),required:"",label:"e-mail",class:"mb-3",type:"email"},null,8,["modelValue"]),l(w,{modelValue:a(e).organizations,"onUpdate:modelValue":o[2]||(o[2]=t=>a(e).organizations=t),class:"mb-3",label:"Organizations",options:a(_),"text-by":"name","value-by":"id",multiple:""},null,8,["modelValue","options"]),l(d,{modelValue:a(e).password,"onUpdate:modelValue":o[3]||(o[3]=t=>a(e).password=t),label:"Password",type:"password",placeholder:"(leave empty to keep current password)",class:"mb-3"},null,8,["modelValue"]),r("div",A,[G,(i(!0),v(R,null,T(a(b),(t,C)=>(i(),h(y,{key:C,modelValue:a(e).role,"onUpdate:modelValue":o[4]||(o[4]=N=>a(e).role=N),option:t,required:""},null,8,["modelValue","option"]))),128))]),l(k,{type:"submit"},{default:m(()=>[H]),_:1})]),_:1},8,["onSubmit"])]),_:1})):j("",!0)]),_:1})])])])}}});export{W as default};
